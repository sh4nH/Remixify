{"ast":null,"code":"var _jsxFileName = \"/home/shan/Desktop/remixify/toptunes/src/components/Home/Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"./Home.css\";\nimport { SPOTIFY_AUTHORIZE_ENDPOINT, REDIRECT_URL, SCOPES_URL_PARAM, CLIENT_ID } from \"./config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getReturnedParamsFromSpotifyAuth = hash => {\n  const stringAfterHashtag = hash.substring(1);\n  const paramsInUrl = stringAfterHashtag.split(\"&\");\n  const paramsSplitUp = paramsInUrl.reduce((accumulater, currentValue) => {\n    const [key, value] = currentValue.split(\"=\");\n    accumulater[key] = value;\n    return accumulater;\n  }, {});\n  return paramsSplitUp;\n};\nconst Home = () => {\n  _s();\n  const [token, setToken] = useState(\"\");\n  const [searchKey, setSearchKey] = useState(\"\");\n  useEffect(() => {\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem(\"token\");\n\n    // getToken()\n\n    if (!token && hash) {\n      token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1];\n      window.location.hash = \"\";\n      window.localStorage.setItem(\"token\", token);\n    }\n    setToken(token);\n  }, []);\n  const handleLogin = () => {\n    window.location = `${SPOTIFY_AUTHORIZE_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URL}&scope=${SCOPES_URL_PARAM}&response_type=token&show_dialog=true`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Spotify React\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), !token ? /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`,\n        children: \"Login to Spotify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 23\n      }, this), token ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: searchArtists,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => setSearchKey(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Please login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(Home, \"UrysfMEm8cor/TmiQXWHvms1ooQ=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","SPOTIFY_AUTHORIZE_ENDPOINT","REDIRECT_URL","SCOPES_URL_PARAM","CLIENT_ID","jsxDEV","_jsxDEV","getReturnedParamsFromSpotifyAuth","hash","stringAfterHashtag","substring","paramsInUrl","split","paramsSplitUp","reduce","accumulater","currentValue","key","value","Home","_s","token","setToken","searchKey","setSearchKey","window","location","localStorage","getItem","find","elem","startsWith","setItem","handleLogin","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","AUTH_ENDPOINT","REDIRECT_URI","RESPONSE_TYPE","onClick","logout","onSubmit","searchArtists","type","onChange","e","target","_c","$RefreshReg$"],"sources":["/home/shan/Desktop/remixify/toptunes/src/components/Home/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Home.css\";\nimport { SPOTIFY_AUTHORIZE_ENDPOINT, REDIRECT_URL, SCOPES_URL_PARAM, CLIENT_ID } from \"./config\";\n\n\n\nconst getReturnedParamsFromSpotifyAuth = (hash) => {\n    const stringAfterHashtag = hash.substring(1)\n    const paramsInUrl = stringAfterHashtag.split(\"&\")\n    const paramsSplitUp = paramsInUrl.reduce((accumulater, currentValue) => {\n        const [key, value] = currentValue.split(\"=\")\n        accumulater[key] = value\n        return accumulater\n    }, {})\n    return paramsSplitUp\n}\n\nconst Home = () => {\n\n    const [token, setToken] = useState(\"\")\n    const [searchKey, setSearchKey] = useState(\"\")\n    useEffect(() => {\n        const hash = window.location.hash\n        let token = window.localStorage.getItem(\"token\")\n\n        // getToken()\n\n\n        if (!token && hash) {\n            token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1]\n\n            window.location.hash = \"\"\n            window.localStorage.setItem(\"token\", token)\n        }\n\n        setToken(token)\n\n    }, [])\n    const handleLogin   = () => {\n        window.location = `${SPOTIFY_AUTHORIZE_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URL}&scope=${SCOPES_URL_PARAM}&response_type=token&show_dialog=true`\n\n    }\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <h1>Spotify React</h1>\n                {!token ?\n                    <a href={`${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`}>Login\n                        to Spotify</a>\n                    : <button onClick={logout}>Logout</button>}\n\n                {token ?\n                    <form onSubmit={searchArtists}>\n                        <input type=\"text\" onChange={e => setSearchKey(e.target.value)}/>\n                        <button type={\"submit\"}>Search</button>\n                    </form>\n\n                    : <h2>Please login</h2>\n                }\n\n\n            </header>\n        </div>\n    );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}